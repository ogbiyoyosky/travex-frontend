"use strict";(self.webpackChunktravex=self.webpackChunktravex||[]).push([[592],{126:function(e,t){t.Z=Object.freeze({LOGIN:"/api/login",CREATE_USER:"/api/register",CREATE_BUSINESS:"/api/business/register",PROFILE:"/api/profile",USERS:"/api/masteradmin/users",LOCATION:function(e){return"/api/locations/".concat(e)},MASTER_LOCATIONS:"/api/admin/locations",CREATE_LOCATION_BY_MASTER_ADMIN:"/api/masteradmin/locations",MY_LOCATION:"/api/profile/locations",APPROVE_LOCATION:function(e){return"/api/locations/".concat(e,"/approve")},ADD_REVIEW:function(e){return"/api/locations/".concat(e,"/reviews")},APPROVE_REVIEW:function(e){return"/api/locations/".concat(e,"/reviews/approveReview")},ADD_REPLY:function(e){return"/api/locations/".concat(e,"/reviews/addComment")},APPROVE_REPLY:function(e){return"/api/locations/".concat(e,"/comments/approveReply")}})},4918:function(e,t,n){n.d(t,{J:function(){return c},z:function(){return p}});var r=n(4165),o=n(5861),a=n(8669),i=n(126),s=n(2917),u=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n,o){var s,u,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="master_admin"===o?i.Z.MASTER_LOCATIONS:"".concat(i.Z.LOCATION(t),"?search=").concat(n),e.next=3,a.Z.get(s);case 3:return u=e.sent,c=u.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,s.a)(["listings",e,t,n],(function(){return u(e,t,n)}),r)},l=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get(i.Z.MY_LOCATION);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.a)(["my-listings"],l,e)}},2039:function(e,t,n){n.d(t,{U:function(){return c},q:function(){return p}});var r=n(4165),o=n(5861),a=n(8669),i=n(126),s=n(2917),u=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get(i.Z.PROFILE);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.a)(["profile"],u,e)},l=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get(i.Z.USERS);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.a)(["users"],l,e)}},2592:function(e,t,n){n.r(t);n(2791);var r=n(4087),o=n(176),a=n(9683),i=n(7908),s=n(4918),u=n(7689),c=n(2039),l=n(184);t.default=function(){var e,t,n,p=(0,s.z)(),d=p.data,m=p.isLoading,f=p.isError,v=(0,c.U)(),g=v.data,h=v.isLoading,x=(0,u.s0)();return m||h?(0,l.jsx)(i.aN,{height:"600px"}):f?(0,l.jsx)(i.ub,{heading:"Ooops an error occured!",bg:"white"}):"admin"!==(null===g||void 0===g?void 0:g.Role)?(0,l.jsx)(i.ub,{bg:"white",height:"400px",heading:"You do not have enough permission to access this screen. Click the button below to go back",btn:(0,l.jsx)(i.zx,{mode:"secondary",variant:"solid",size:"lg",onClick:function(){return x(-1)},children:"Go Back"})}):(0,l.jsxs)(r.xu,{children:[(0,l.jsxs)(o.k,{alignItems:"center",justifyContent:"center",flexDirection:"column",py:"60px",px:"40px",bg:"gray.400",children:[(0,l.jsxs)(i.ZT,{textStyle:"6",color:"white",textAlign:"center",fontWeight:700,mb:"16px",children:[(null===g||void 0===g||null===(e=g.Locations)||void 0===e?void 0:e.length)>0?"Welcome Back":"Hi",", ",g?null===g||void 0===g?void 0:g.First_name:""]}),(0,l.jsx)(i.ZT,{textStyle:"9",color:"white",textAlign:"center",fontWeight:400,mb:"20px",children:"Did you know you can create more than one listing?"}),(0,l.jsx)(i.zx,{mode:"accent",variant:"solid",size:"lg",width:(null===g||void 0===g||null===(t=g.Locations)||void 0===t?void 0:t.length)>0?"220px":"auto",onClick:function(){return x("/create-listing")},children:(null===g||void 0===g||null===(n=g.Locations)||void 0===n?void 0:n.length)>0?"Create another listing":"Create listing"})]}),(0,l.jsx)(r.xu,{pt:"62px",pb:"160px",px:{base:"20px",md:"44px"},children:0===(null===d||void 0===d?void 0:d.length)?(0,l.jsx)(i.ub,{bg:"white",heading:"No Data!",message:"You have no listings available at the moment",btn:"admin"===(null===g||void 0===g?void 0:g.Role)&&(0,l.jsx)(i.zx,{mode:"secondary",variant:"solid",size:"lg",onClick:function(){return x("/create-listing")},children:"Create listing"})}):(0,l.jsx)(a.M,{columns:[1,1,2,3],spacing:"60px",children:null===d||void 0===d?void 0:d.sort((function(e,t){return new Date(t.Created_at)-new Date(e.Created_at)})).map((function(e){var t;return(0,l.jsx)(i.dF,{title:e.Name,location:e.Address,reviews:"".concat(null===(t=e.Reviews)||void 0===t?void 0:t.length," Review(s)"),imgUrl:e.Image,imgAlt:e.Name,locationType:e.LocationType.Name,id:e.Id,isApproved:e.IsApproved,showTag:!0},e.Id)}))})})]})}},8669:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(3263),o=n(691),a=n.n(o),i=n(1986),s=r.Z.create({baseURL:"https://www.travexapitest.co.uk"});function u(e){return e.results?Promise.resolve(e.results):e.data?Promise.resolve(e.data):Promise.resolve(e)}s.interceptors.request.use((function(e){var t=(0,i.bW)();return t&&!e.headers.hasOwnProperty("Authorization")&&(e.headers.Authorization="Bearer ".concat(t)),e})),s.interceptors.request.use((function(e){return a().start(),e})),s.interceptors.response.use((function(e){return a().done(),e}),(function(e){if(a().done(),e.response&&e.response.data&&e.response.data.message)if(401===e.response.status)e={response:{data:e.response.data}},(0,i.H6)();else if(404===e.response.status)e={response:{data:e.response.data}};else{if(500!==e.response.status)return Promise.reject(e);e={response:{data:{message:"Ooops! an error occurred"}}}}else e={response:{data:{message:"Unable to complete request"}}};throw e}));function c(e){return e.data?Promise.reject(e.data):e.response.data?Promise.reject(e.response.data):Promise.reject(e)}var l={get:function(e){return s.get(e).then(u).catch(c)},post:function(e,t,n){return s.post(e,t,n).then(u).catch(c)},put:function(e,t){return s.put(e,t).then(u).catch(c)},patch:function(e,t){return s.patch(e,t).then(u).catch(c)},remove:function(e,t){return s.delete(e,t).then(u).catch(c)}}},9683:function(e,t,n){n.d(t,{M:function(){return f}});var r=n(1413),o=n(4925),a=n(7872),i=n(9745),s=n(184),u=["templateAreas","gap","rowGap","columnGap","column","row","autoFlow","autoRows","templateRows","autoColumns","templateColumns"],c=(0,a.G)((function(e,t){var n=e.templateAreas,a=e.gap,c=e.rowGap,l=e.columnGap,p=e.column,d=e.row,m=e.autoFlow,f=e.autoRows,v=e.templateRows,g=e.autoColumns,h=e.templateColumns,x=(0,o.Z)(e,u),w={display:"grid",gridTemplateAreas:n,gridGap:a,gridRowGap:c,gridColumnGap:l,gridAutoColumns:g,gridColumn:p,gridRow:d,gridAutoFlow:m,gridAutoRows:f,gridTemplateRows:v,gridTemplateColumns:h};return(0,s.jsx)(i.m.div,(0,r.Z)({ref:t,__css:w},x))}));c.displayName="Grid";var l=n(5310),p=n(3142),d=n(2625),m=["columns","spacingX","spacingY","spacing","minChildWidth"],f=(0,a.G)((function(e,t){var n,a=e.columns,i=e.spacingX,u=e.spacingY,f=e.spacing,v=e.minChildWidth,g=(0,o.Z)(e,m),h=(0,l.F)(),x=v?function(e,t){return(0,d.XQ)(e,(function(e){var n,r=(0,p.LP)("sizes",e,"number"===typeof(n=e)?"".concat(n,"px"):n)(t);return null===e?null:"repeat(auto-fit, minmax(".concat(r,", 1fr))")}))}(v,h):(n=a,(0,d.XQ)(n,(function(e){return null===e?null:"repeat(".concat(e,", minmax(0, 1fr))")})));return(0,s.jsx)(c,(0,r.Z)({ref:t,gap:f,columnGap:i,rowGap:u,templateColumns:x},g))}));f.displayName="SimpleGrid"}}]);
//# sourceMappingURL=592.2d95c18c.chunk.js.map