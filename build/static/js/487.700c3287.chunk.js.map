{"version":3,"file":"static/js/487.700c3287.chunk.js","mappings":"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","sources":["constants/endpoints.js","hooks/queries/useListings.js","screens/Listings/index.js","config/axiosConfig.js","services/response.js","services/api.js","../node_modules/@chakra-ui/layout/dist/chunk-5FO2ZLZM.mjs","../node_modules/@chakra-ui/layout/dist/chunk-QJDVAY5Z.mjs"],"sourcesContent":["export default Object.freeze({\n  LOGIN: `/api/login`,\n  CREATE_USER: '/api/register',\n  CREATE_BUSINESS: '/api/business/register',\n  PROFILE: `/api/profile`,\n  USERS: `/api/masteradmin/users`,\n  LOCATION: (id) => `/api/locations/${id}`,\n  MASTER_LOCATIONS: `/api/admin/locations`,\n  CREATE_LOCATION_BY_MASTER_ADMIN: `/api/masteradmin/locations`,\n  MY_LOCATION: `/api/profile/locations`,\n  APPROVE_LOCATION: (id) => `/api/locations/${id}/approve`,\n  ADD_REVIEW: (id) => `/api/locations/${id}/reviews`,\n  APPROVE_REVIEW: (id) => `/api/locations/${id}/reviews/approveReview`,\n  ADD_REPLY: (id) => `/api/locations/${id}/reviews/addComment`,\n  APPROVE_REPLY: (id) => `/api/locations/${id}/comments/approveReply`,\n});\n","import api from 'services/api';\nimport e from 'constants/endpoints';\nimport { useQuery } from '@tanstack/react-query';\n\n/**\n * Endpoint to get Listings\n *\n * @returns {Promise<{data: Listings }>}\n */\nconst fetchListings = async (id, query, role) => {\n  const endpoint =\n    role === 'master_admin' ? e.MASTER_LOCATIONS : `${e.LOCATION(id)}?search=${query}`;\n\n  const { data } = await api.get(endpoint);\n  return data;\n};\n\nexport const useListings = (id = '', query = '', role, options = {}) =>\n  useQuery(['listings', id, query, role], () => fetchListings(id, query, role), options);\n\n/**\n * Endpoint to get User Listings\n *\n * @returns {Promise<{data: Listings }>}\n */\nconst fetchUserListings = async () => {\n  const { data } = await api.get(e.MY_LOCATION);\n  return data;\n};\n\nexport const useUserListings = (options = {}) =>\n  useQuery(['my-listings'], fetchUserListings, options);\n","import React from 'react';\nimport { Box, SimpleGrid } from '@chakra-ui/react';\nimport { EmptyState, ListingCard, Loader, Typography } from 'components';\nimport { useParams } from 'react-router-dom';\nimport { useListings } from 'hooks/queries/useListings';\n\nfunction Listings() {\n  const { locationType } = useParams();\n  const { data, isLoading, isError } = useListings('', locationType);\n\n  if (isLoading) {\n    return <Loader height=\"600px\" />;\n  }\n  if (isError) {\n    return <EmptyState heading={`Ooops an error occured!`} bg=\"white\" />;\n  }\n  return (\n    <Box pt=\"62px\" pb=\"160px\" px={{ base: '20px', md: '44px' }}>\n      {/* Heading */}\n      <Typography textStyle=\"8\" fontWeight={700} mb=\"44px\">\n        {getHeadingByLocationType(locationType)}\n      </Typography>\n\n      {data?.length === 0 ? (\n        <EmptyState\n          bg=\"white\"\n          maxWidth=\"100%\"\n          heading={`No Data!`}\n          message={`There are no ${locationType} listings available at the moment`}\n        />\n      ) : (\n        <SimpleGrid columns={[1, 1, 2, 3]} spacing=\"60px\">\n          {data\n            ?.sort((a, b) => new Date(b.Created_at) - new Date(a.Created_at))\n            .map((listing) => (\n              <ListingCard\n                key={listing.Id}\n                title={listing.Name}\n                location={listing.Address}\n                reviews={`${listing.Reviews?.length} Review(s)`}\n                imgUrl={listing.Image}\n                imgAlt={listing.Name}\n                locationType={locationType}\n                id={listing.Id}\n                isApproved={listing.IsApproved}\n              />\n            ))}\n        </SimpleGrid>\n      )}\n    </Box>\n  );\n}\nexport default Listings;\n\nconst getHeadingByLocationType = (locationType) => {\n  return locationType === 'restaurant'\n    ? 'Restaurants to explore'\n    : locationType === 'bar'\n    ? 'Bars to explore'\n    : locationType === 'club'\n    ? 'Clubs to explore'\n    : locationType === 'park'\n    ? 'Parks to explore'\n    : '';\n};\n","import axios from 'axios';\nimport Nprogress from 'nprogress';\nimport { getAuthToken, removeAuthToken } from 'utils/auth';\n\n// create a new axios instance\nexport const instance = axios.create({\n  // eslint-disable-next-line no-undef\n  baseURL: process.env.REACT_APP_API_URL,\n});\n\ninstance.interceptors.request.use((config) => {\n  const token = getAuthToken();\n\n  // eslint-disable-next-line no-prototype-builtins\n  if (token && !config.headers.hasOwnProperty('Authorization')) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  return config;\n});\n\ninstance.interceptors.request.use((config) => {\n  Nprogress.start();\n\n  return config;\n});\n\ninstance.interceptors.response.use(\n  function (response) {\n    Nprogress.done();\n    return response;\n  },\n  function (error) {\n    Nprogress.done();\n    if (!error.response || !error.response.data || !error.response.data.message) {\n      error = {\n        response: {\n          data: {\n            message: 'Unable to complete request',\n          },\n        },\n      };\n    } else if (401 === error.response.status) {\n      error = {\n        response: {\n          data: error.response.data,\n        },\n      };\n      removeAuthToken();\n    } else if (404 === error.response.status) {\n      error = {\n        response: {\n          data: error.response.data,\n        },\n      };\n    } else if (500 === error.response.status) {\n      error = {\n        response: {\n          data: {\n            message: 'Ooops! an error occurred',\n          },\n        },\n      };\n    } else {\n      return Promise.reject(error);\n    }\n    throw error;\n  }\n);\n","export function handleResponse(response) {\n  if (response.results) {\n    return Promise.resolve(response.results);\n  }\n\n  if (response.data) {\n    return Promise.resolve(response.data);\n  }\n\n  return Promise.resolve(response);\n}\n\nconst handleErrorResponse = (response) => {\n  const {\n    data: { message, errors },\n  } = response;\n\n  if (message === \"Invalid Data\") {\n    throw new Error(errors[0].message);\n  }\n\n  throw new Error(message);\n};\n\nexport const handleRequestResponse = async (callback) => {\n  try {\n    const response = await callback();\n    return response.data;\n  } catch (error) {\n    if (error.response) {\n      if (error.response.status === 401) {\n        window.location.replace(\"/login\");\n      }\n      throw handleErrorResponse(error.response);\n    }\n    throw error;\n  }\n};\n\nexport function handleError(error) {\n  if (error.data) {\n    return Promise.reject(error.data);\n  }\n\n  if (error.response.data) {\n    return Promise.reject(error.response.data);\n  }\n  return Promise.reject(error);\n}\n","import { instance as axios } from 'config/axiosConfig';\nimport { handleResponse, handleError } from './response';\n\n/** @param {string} resource */\nconst get = resource => {\n  return axios.get(resource).then(handleResponse).catch(handleError);\n};\n\n/** @param {string} resource */\n/** @param {object} model */\n/** @param {object} options */\nconst post = (resource, model, options) => {\n  return axios.post(resource, model, options).then(handleResponse).catch(handleError);\n};\n\n/** @param {string} resource */\n/** @param {object} model */\nconst put = (resource, model) => {\n  return axios.put(resource, model).then(handleResponse).catch(handleError);\n};\n\n/** @param {string} resource */\n/** @param {object} model */\nconst patch = (resource, model) => {\n  return axios.patch(resource, model).then(handleResponse).catch(handleError);\n};\n\n/** @param {string} resource */\n/** @param {string} id */\nconst remove = (resource, id) => {\n  return axios.delete(resource, id).then(handleResponse).catch(handleError);\n};\n\nconst exportedObject = {\n  get,\n  post,\n  put,\n  patch,\n  remove\n};\n\nexport default exportedObject;\n","// src/grid.tsx\nimport {\n  chakra,\n  forwardRef\n} from \"@chakra-ui/system\";\nimport { jsx } from \"react/jsx-runtime\";\nvar Grid = forwardRef(function Grid2(props, ref) {\n  const {\n    templateAreas,\n    gap,\n    rowGap,\n    columnGap,\n    column,\n    row,\n    autoFlow,\n    autoRows,\n    templateRows,\n    autoColumns,\n    templateColumns,\n    ...rest\n  } = props;\n  const styles = {\n    display: \"grid\",\n    gridTemplateAreas: templateAreas,\n    gridGap: gap,\n    gridRowGap: rowGap,\n    gridColumnGap: columnGap,\n    gridAutoColumns: autoColumns,\n    gridColumn: column,\n    gridRow: row,\n    gridAutoFlow: autoFlow,\n    gridAutoRows: autoRows,\n    gridTemplateRows: templateRows,\n    gridTemplateColumns: templateColumns\n  };\n  return /* @__PURE__ */ jsx(chakra.div, { ref, __css: styles, ...rest });\n});\nGrid.displayName = \"Grid\";\n\nexport {\n  Grid\n};\n","import {\n  Grid\n} from \"./chunk-5FO2ZLZM.mjs\";\n\n// src/simple-grid.tsx\nimport {\n  forwardRef,\n  getToken,\n  useTheme\n} from \"@chakra-ui/system\";\nimport { mapResponsive } from \"@chakra-ui/breakpoint-utils\";\nimport { jsx } from \"react/jsx-runtime\";\nvar SimpleGrid = forwardRef(\n  function SimpleGrid2(props, ref) {\n    const { columns, spacingX, spacingY, spacing, minChildWidth, ...rest } = props;\n    const theme = useTheme();\n    const templateColumns = minChildWidth ? widthToColumns(minChildWidth, theme) : countToColumns(columns);\n    return /* @__PURE__ */ jsx(\n      Grid,\n      {\n        ref,\n        gap: spacing,\n        columnGap: spacingX,\n        rowGap: spacingY,\n        templateColumns,\n        ...rest\n      }\n    );\n  }\n);\nSimpleGrid.displayName = \"SimpleGrid\";\nfunction toPx(n) {\n  return typeof n === \"number\" ? `${n}px` : n;\n}\nfunction widthToColumns(width, theme) {\n  return mapResponsive(width, (value) => {\n    const _value = getToken(\"sizes\", value, toPx(value))(theme);\n    return value === null ? null : `repeat(auto-fit, minmax(${_value}, 1fr))`;\n  });\n}\nfunction countToColumns(count) {\n  return mapResponsive(\n    count,\n    (value) => value === null ? null : `repeat(${value}, minmax(0, 1fr))`\n  );\n}\n\nexport {\n  SimpleGrid\n};\n"],"names":["Object","freeze","LOGIN","CREATE_USER","CREATE_BUSINESS","PROFILE","USERS","LOCATION","id","MASTER_LOCATIONS","CREATE_LOCATION_BY_MASTER_ADMIN","MY_LOCATION","APPROVE_LOCATION","ADD_REVIEW","APPROVE_REVIEW","ADD_REPLY","APPROVE_REPLY","fetchListings","query","role","endpoint","e","api","data","useListings","options","useQuery","fetchUserListings","useUserListings","locationType","useParams","isLoading","isError","height","heading","bg","pt","pb","px","base","md","textStyle","fontWeight","mb","getHeadingByLocationType","length","maxWidth","message","columns","spacing","sort","a","b","Date","Created_at","map","listing","title","Name","location","Address","reviews","Reviews","imgUrl","Image","imgAlt","Id","isApproved","IsApproved","instance","axios","baseURL","process","handleResponse","response","results","Promise","resolve","interceptors","request","use","config","token","getAuthToken","headers","hasOwnProperty","Authorization","Nprogress","error","status","removeAuthToken","reject","handleError","get","resource","then","catch","post","model","put","patch","remove","Grid","forwardRef","props","ref","templateAreas","gap","rowGap","columnGap","column","row","autoFlow","autoRows","templateRows","autoColumns","templateColumns","rest","styles","display","gridTemplateAreas","gridGap","gridRowGap","gridColumnGap","gridAutoColumns","gridColumn","gridRow","gridAutoFlow","gridAutoRows","gridTemplateRows","gridTemplateColumns","jsx","chakra","__css","displayName","SimpleGrid","count","spacingX","spacingY","minChildWidth","theme","useTheme","width","mapResponsive","value","n","_value","getToken","widthToColumns"],"sourceRoot":""}